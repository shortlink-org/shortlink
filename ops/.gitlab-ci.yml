include:
  - local: /ops/pipelines/jobs/test.yml
  - local: /ops/pipelines/jobs/build.yml
  - local: /ops/pipelines/jobs/qa.yml
  - local: /ops/pipelines/jobs/environment-yandex.yml
  - local: /ops/pipelines/jobs/accessibility.yml

stages:
  - test
  - build
  - qa
  - deploy
  - accessibility
  - release

variables:
  DOCKER_DRIVER: overlay2
  DOCKER_HOST: tcp://docker:2375
  PRODUCTION_UI_HOST: https://shortlink.surge.sh
  STAGING_UI_HOST: https://staging_shortlink.surge.sh

# DEFAULT ==============================================================================================================
default:
  services:
    - name: docker:19.03-dind
      alias: localhost # necessary for correct addressing to services running in docker
