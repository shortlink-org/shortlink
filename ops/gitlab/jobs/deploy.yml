include:
  - local: /ops/gitlab/workflows/matrix_deploy.yml

# STAGING RELEASE ======================================================================================================
#applications_go:
#  extends:
#    - .matrix_deploy_application_go
#  stage: deploy
#  trigger:
#    include:
#      - local: 'ops/gitlab/pipelines/helm_deploy.yml'
#    strategy: depend
#  needs:
#    - docker:build_go
#    - HELM
#  rules:
#    - if: $CI_COMMIT_TAG
#      when: on_success

#applications_js:
#  extends:
#    - .matrix_deploy_application_js
#  stage: deploy
#  trigger:
#    include:
#      - local: 'ops/gitlab/pipelines/ui.yml'
#    strategy: depend
#  needs:
#    - docker:build_nodejs
#    - HELM
#  rules:
#    - if: $CI_COMMIT_TAG
#      when: on_success

mobile:
  stage: deploy
  trigger:
    include:
      - local: 'ops/gitlab/pipelines/flutter.yml'
    strategy: depend
  needs: []
  rules:
    - if: $CI_COMMIT_TAG
      when: on_success
