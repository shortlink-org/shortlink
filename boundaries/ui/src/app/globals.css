@import "tailwindcss";

@theme {
  /* Override Tailwind v4 colors with readable values */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  
  --color-indigo-100: #e0e7ff;
  --color-indigo-200: #c7d2fe;
  --color-indigo-300: #a5b4fc;
  --color-indigo-500: #6366f1;
  --color-indigo-600: #4f46e5;
  --color-indigo-700: #4338ca;
}

/* Modern Dark Mode with CSS Variables */
:root {
  /* Light mode - backgrounds */
  --color-gray-50: 249 250 251;
  --color-gray-100: 243 244 246;
  --color-gray-200: 229 231 235;
  --color-gray-800: 31 41 55;
  --color-gray-900: 17 24 39;
  
  /* Light mode - text (контрастные цвета) */
  --color-text-primary: 17 24 39;
  --color-text-secondary: 75 85 99;
  
  /* Light mode - accent */
  --color-indigo-500: 99 102 241;
  --color-indigo-600: 79 70 229;
  --color-indigo-700: 67 56 202;
  --color-indigo-100: 224 231 255;
  --color-indigo-200: 199 210 254;
  --color-indigo-300: 165 180 252;
}

:root.dark {
  /* Dark mode - яркие насыщенные цвета */
  --color-gray-50: #374151;
  --color-gray-100: #4b5563;
  --color-gray-200: #9ca3af;
  --color-gray-400: #e5e7eb;
  --color-gray-500: #f3f4f6;
  --color-gray-800: #0f172a;
  --color-gray-900: #ffffff;
  
  /* Dark mode - максимальный контраст */
  --color-text-primary: #ffffff;
  --color-text-secondary: #f3f4f6;
  
  /* Dark mode - яркие акценты */
  --color-indigo-100: #312e81;
  --color-indigo-200: #4338ca;
  --color-indigo-300: #818cf8;
  --color-indigo-500: #a78bfa;
  --color-indigo-600: #c4b5fd;
  --color-indigo-700: #ddd6fe;
}

html,
body,
#__next {
  flex: 1;
  display: flex;
  flex-direction: column;
  height: 100dvh;
  justify-content: center;
}

@layer base {
  body {
    background-color: rgb(var(--color-bg-primary));
    color: rgb(var(--color-text-primary));
    @apply min-h-screen;
  }

  ::selection {
    @apply text-white bg-indigo-500;
  }

  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 rounded-xl font-semibold text-white bg-purple-700 dark:bg-indigo-500 hover:bg-purple-800 dark:hover:bg-indigo-600 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 whitespace-nowrap;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-3 rounded-xl font-semibold text-indigo-700 dark:text-indigo-300 bg-white dark:bg-gray-800 border-2 border-indigo-600 dark:border-indigo-400 shadow-md hover:shadow-lg hover:bg-indigo-50 dark:hover:bg-gray-700 transform hover:-translate-y-0.5 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 whitespace-nowrap;
  }

  a:not([class]) {
    @apply text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 underline-offset-4 hover:underline transition-colors;
  }
}

.bg-white {
  @media (prefers-reduced-transparency: reduce) {
    --tw-bg-opacity: 0;
  }
}

/* switch dark mode */
.toggleWrapper {
  overflow: hidden;
  min-width: 6em;
  transition: transform 0.3s ease-in-out;
  position: inherit !important;
  top: auto !important;
  left: auto !important;
}

/* TYPOGRAPHY */
body,
p,
h1,
h2,
h3,
h4,
h5,
h6,
a,
span,
div,
li,
ul,
ol,
button,
input,
textarea,
select {
  text-wrap: pretty;
}

@layer components {
  .cq-hero {
    container: hero / inline-size;
  }

  .cq-hero__grid {
    display: grid;
    gap: clamp(1.5rem, 4cqi, 3.5rem);
    align-items: center;
  }

  .cq-hero__content {
    padding-block: clamp(1.5rem, 6cqi, 4.5rem);
  }

  .cq-hero__body {
    text-align: center;
    max-width: 42rem;
    margin-inline: auto;
  }

  .cq-hero__title {
    font-size: clamp(2rem, 1.1rem + 4.6cqi, 4.2rem);
    line-height: 1.05;
  }

  .cq-hero__lead {
    font-size: clamp(0.95rem, 0.55rem + 1.9cqi, 1.25rem);
  }

  .cq-hero__actions {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: clamp(0.75rem, 2.2cqi, 1.25rem);
  }

  .cq-hero__actions > a {
    width: 100%;
  }

  .cq-hero__media {
    border-radius: 1.5rem;
    overflow: hidden;
    box-shadow: 0 25px 70px -40px rgb(15 23 42 / 0.4);
  }

  .cq-hero__image {
    width: 100%;
    height: 100%;
    min-height: clamp(12rem, 28cqi, 22rem);
    object-fit: cover;
  }

  .cq-hero__divider {
    display: none;
  }

  @container hero (min-width: 52rem) {
    .cq-hero__grid {
      grid-template-columns: minmax(0, 1.05fr) minmax(0, 0.95fr);
    }

    .cq-hero__body {
      text-align: left;
      margin-inline: 0;
    }

    .cq-hero__actions {
      flex-direction: row;
      align-items: center;
      justify-content: flex-start;
    }

    .cq-hero__actions > a {
      width: auto;
    }

    .cq-hero__divider {
      display: block;
    }
  }

  .cq-mobile {
    container: mobile / inline-size;
  }

  .cq-mobile__grid {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: clamp(1.5rem, 5cqi, 3rem);
  }

  .cq-mobile__content {
    text-align: center;
    max-width: 36rem;
  }

  .cq-mobile__title {
    font-size: clamp(1.5rem, 1.2rem + 1.8cqi, 2.25rem);
  }

  .cq-mobile__actions {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
  }

  @container mobile (min-width: 46rem) {
    .cq-mobile__grid {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }

    .cq-mobile__content {
      text-align: left;
    }

    .cq-mobile__actions {
      justify-content: flex-end;
    }
  }

  .cq-subscribe {
    container: subscribe / inline-size;
  }

  .cq-subscribe__grid {
    display: grid;
    gap: clamp(1.5rem, 6cqi, 3.5rem);
    align-items: center;
  }

  .cq-subscribe__content {
    text-align: center;
  }

  .cq-subscribe__title {
    font-size: clamp(1.5rem, 1.1rem + 2.4cqi, 2.4rem);
    line-height: 1.2;
  }

  .cq-subscribe__form {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: stretch;
  }

  .cq-subscribe__input {
    width: 100%;
    max-width: clamp(16rem, 55cqi, 22rem);
  }

  .cq-subscribe__button {
    width: 100%;
  }

  .cq-subscribe__media {
    display: flex;
    justify-content: center;
  }

  @container subscribe (min-width: 32rem) {
    .cq-subscribe__form {
      flex-direction: row;
      align-items: center;
    }

    .cq-subscribe__button {
      width: auto;
    }
  }

  @container subscribe (min-width: 52rem) {
    .cq-subscribe__grid {
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
    }

    .cq-subscribe__content {
      text-align: left;
    }
  }

  .cq-steps {
    container: steps / inline-size;
    grid-template-columns: minmax(0, 1fr);
  }

  @container steps (min-width: 36rem) {
    .cq-steps {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @container steps (min-width: 64rem) {
    .cq-steps {
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }
  }

  .cq-services {
    container: services / inline-size;
    grid-template-columns: minmax(0, 1fr);
  }

  @container services (min-width: 40rem) {
    .cq-services {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @container services (min-width: 64rem) {
    .cq-services {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }
}
