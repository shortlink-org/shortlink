{"batches":[{"resource":{"attributes":[{"key":"host.name","value":{"stringValue":"shortlink-link-link-7768c589fc-5gl88"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.22.2 (Linux shortlink-link-link-7768c589fc-5gl88 6.12.57-talos #1 SMP Wed Nov  5 12:59:35 UTC 2025 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"stringValue":"[\"./app\"]"}},{"key":"process.executable.name","value":{"stringValue":"app"}},{"key":"process.executable.path","value":{"stringValue":"/app/app"}},{"key":"process.owner","value":{"stringValue":"golang"}},{"key":"process.pid","value":{"intValue":7}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.25.4 X:arenas,cgocheck2,newinliner,rangefunc,jsonv2,greenteagc linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.25.4 X:arenas,cgocheck2,newinliner,rangefunc,jsonv2,greenteagc"}},{"key":"service.version","value":{"stringValue":""}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.38.0"}},{"key":"service.name","value":{"stringValue":"shortlink-link"}}],"droppedAttributesCount":0},"instrumentationLibrarySpans":[{"spans":[{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"13d77a446af13cca","parentSpanId":"0e42b1f539e3e7e6","traceState":"","name":"link.link.created.v1 receive","kind":"SPAN_KIND_CONSUMER","startTimeUnixNano":1764701011639718100,"endTimeUnixNano":1764701011639742700,"attributes":[{"key":"messaging.system","value":{"stringValue":"kafka"}},{"key":"messaging.destination.kind","value":{"stringValue":"topic"}},{"key":"messaging.destination.name","value":{"stringValue":"link.link.created.v1"}},{"key":"messaging.operation","value":{"stringValue":"receive"}},{"key":"messaging.message.id","value":{"stringValue":"11"}},{"key":"messaging.kafka.source.partition","value":{"intValue":0}},{"key":"pyroscope.profile.id","value":{"stringValue":"13d77a446af13cca"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}}],"instrumentationLibrary":{"name":"go.opentelemetry.io/contrib/instrumentation/github.com/IBM/sarama/otelsarama","version":"0.43.0"}}]},{"resource":{"attributes":[{"key":"host.name","value":{"stringValue":"shortlink-link-link-7768c589fc-5gl88"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.22.2 (Linux shortlink-link-link-7768c589fc-5gl88 6.12.57-talos #1 SMP Wed Nov  5 12:59:35 UTC 2025 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"stringValue":"[\"./app\"]"}},{"key":"process.executable.name","value":{"stringValue":"app"}},{"key":"process.executable.path","value":{"stringValue":"/app/app"}},{"key":"process.owner","value":{"stringValue":"golang"}},{"key":"process.pid","value":{"intValue":7}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.25.4 X:arenas,cgocheck2,newinliner,rangefunc,jsonv2,greenteagc linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.25.4 X:arenas,cgocheck2,newinliner,rangefunc,jsonv2,greenteagc"}},{"key":"service.version","value":{"stringValue":""}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.38.0"}},{"key":"service.name","value":{"stringValue":"shortlink-link"}}],"droppedAttributesCount":0},"instrumentationLibrarySpans":[{"spans":[{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"0e42b1f539e3e7e6","parentSpanId":"268d4225c55e66f2","traceState":"","name":"link.link.created.v1 publish","kind":"SPAN_KIND_PRODUCER","startTimeUnixNano":1764701011634268200,"endTimeUnixNano":1764701011640008400,"attributes":[{"key":"messaging.system","value":{"stringValue":"kafka"}},{"key":"messaging.destination.kind","value":{"stringValue":"topic"}},{"key":"messaging.destination.name","value":{"stringValue":"link.link.created.v1"}},{"key":"messaging.message.payload_size_bytes","value":{"intValue":751}},{"key":"messaging.operation","value":{"stringValue":"publish"}},{"key":"pyroscope.profile.id","value":{"stringValue":"0e42b1f539e3e7e6"}},{"key":"messaging.message.id","value":{"stringValue":"11"}},{"key":"messaging.kafka.destination.partition","value":{"intValue":0}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"45e835931d1dc19c","parentSpanId":"268d4225c55e66f2","traceState":"","name":"watermill.publish","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011634249000,"endTimeUnixNano":1764701011640052500,"attributes":[{"key":"topic","value":{"stringValue":"link.link.created.v1"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"268d4225c55e66f2","parentSpanId":"e00f810c9fbd6426","traceState":"","name":"saga: SAGA_STEP_PUBLISH_EVENT_NEW_LINK","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011634160000,"endTimeUnixNano":1764701011640122600,"attributes":[{"key":"step","value":{"stringValue":"SAGA_STEP_PUBLISH_EVENT_NEW_LINK"}},{"key":"status","value":{"stringValue":"run"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""},"events":[{"timeUnixNano":1764701011640064800,"attributes":[{"key":"log.severity","value":{"stringValue":"INFO"}},{"key":"log.message","value":{"stringValue":"Link creation event published successfully"}},{"key":"saga.step","value":{"stringValue":"SAGA_STEP_PUBLISH_EVENT_NEW_LINK"}},{"key":"event_type","value":{"stringValue":"link.link.created.v1"}},{"key":"link_hash","value":{"stringValue":"50dec21fa68cf10"}},{"key":"user.id","value":{"stringValue":"77e8d776-2937-4143-8f56-9ae814b92a46"}}],"droppedAttributesCount":0,"name":"log.INFO"}]},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"74b31730e6d004d1","parentSpanId":"923c567623fb8ca6","traceState":"","name":"connect","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011634436000,"endTimeUnixNano":1764701011647533300,"attributes":[{"key":"db.system","value":{"stringValue":"postgresql"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"923c567623fb8ca6","parentSpanId":"5e63a5340e127632","traceState":"","name":"pool.acquire","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011634385000,"endTimeUnixNano":1764701011647607300,"attributes":[{"key":"db.system","value":{"stringValue":"postgresql"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"d5295ebfe5f3b077","parentSpanId":"f986b61cc5e80aa8","traceState":"","name":"prepare INSERT INTO link.links (url,hash,describe,json) VALUES ($1,$2,$3,$4)","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011647678700,"endTimeUnixNano":1764701011648711200,"attributes":[{"key":"db.system","value":{"stringValue":"postgresql"}},{"key":"db.operation.name","value":{"stringValue":"INSERT"}},{"key":"db.query.text","value":{"stringValue":"INSERT INTO link.links (url,hash,describe,json) VALUES ($1,$2,$3,$4)"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"f986b61cc5e80aa8","parentSpanId":"5e63a5340e127632","traceState":"","name":"query INSERT INTO link.links (url,hash,describe,json) VALUES ($1,$2,$3,$4)","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011647661300,"endTimeUnixNano":1764701011650716400,"attributes":[{"key":"db.system","value":{"stringValue":"postgresql"}},{"key":"db.query.text","value":{"stringValue":"INSERT INTO link.links (url,hash,describe,json) VALUES ($1,$2,$3,$4)"}},{"key":"db.operation.name","value":{"stringValue":"INSERT"}},{"key":"pgx.query.parameters","value":{"stringValue":"[\"https://shortlink.best/next/add-link/\",\"50dec21fa68cf10\",\"\",\"{\\\"created_at\\\":{\\\"seconds\\\":1764701011,\\\"nanos\\\":634033283},\\\"updated_at\\\":{\\\"seconds\\\":1764701011,\\\"nanos\\\":634033403},\\\"url\\\":\\\"https://shortlink.best/next/add-link/\\\",\\\"hash\\\":\\\"50dec21fa68cf10\\\",\\\"describe\\\":\\\"\\\"}\"]"}},{"key":"pgx.rows_affected","value":{"intValue":1}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"5e63a5340e127632","parentSpanId":"2a9aaf282aac6115","traceState":"","name":"link.store.add","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011634220500,"endTimeUnixNano":1764701011650745000,"attributes":[{"key":"saga.step","value":{"stringValue":"SAGA_STEP_SAVE_TO_STORE"}},{"key":"link.hash","value":{"stringValue":"50dec21fa68cf10"}},{"key":"user.id","value":{"stringValue":"77e8d776-2937-4143-8f56-9ae814b92a46"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":1,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"2a9aaf282aac6115","parentSpanId":"e00f810c9fbd6426","traceState":"","name":"saga: SAGA_STEP_SAVE_TO_STORE","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011634208800,"endTimeUnixNano":1764701011650749200,"attributes":[{"key":"step","value":{"stringValue":"SAGA_STEP_SAVE_TO_STORE"}},{"key":"status","value":{"stringValue":"run"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"474beb026a980b43","parentSpanId":"a295fd41f662e13d","traceState":"","name":"ResolveOutgoingUserID","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011650924800,"endTimeUnixNano":1764701011650938400,"attributes":[{"key":"auth.user_id.source","value":{"stringValue":"context"}},{"key":"auth.user_id","value":{"stringValue":"77e8d776-2937-4143-8f56-9ae814b92a46"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":1,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"ffbcff6cb5ac837c","parentSpanId":"474beb026a980b43","traceState":"","name":"authzed.api.v1.PermissionsService/WriteRelationships","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011717433000,"endTimeUnixNano":1764701011728595500,"attributes":[{"key":"rpc.method","value":{"stringValue":"WriteRelationships"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"server.address","value":{"stringValue":"10.98.245.83"}},{"key":"server.port","value":{"intValue":50051}},{"key":"rpc.grpc.status_code","value":{"intValue":0}},{"key":"rpc.service","value":{"stringValue":"authzed.api.v1.PermissionsService"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""},"events":[{"timeUnixNano":1764701011719301400,"attributes":[{"key":"rpc.message.type","value":{"stringValue":"SENT"}},{"key":"rpc.message.id","value":{"intValue":1}},{"key":"rpc.message.compressed_size","value":{"intValue":87}},{"key":"rpc.message.uncompressed_size","value":{"intValue":87}}],"droppedAttributesCount":0,"name":"message"},{"timeUnixNano":1764701011728579800,"attributes":[{"key":"rpc.message.type","value":{"stringValue":"RECEIVED"}},{"key":"rpc.message.id","value":{"intValue":1}},{"key":"rpc.message.compressed_size","value":{"intValue":36}},{"key":"rpc.message.uncompressed_size","value":{"intValue":36}}],"droppedAttributesCount":0,"name":"message"}]},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"a438eb1f11ebe2fe","parentSpanId":"f45110422263742a","traceState":"","name":"infrastructure.rpc.link.v1.LinkService/Add","kind":"SPAN_KIND_SERVER","startTimeUnixNano":1764701011633756400,"endTimeUnixNano":1764701011728942600,"attributes":[{"key":"rpc.method","value":{"stringValue":"Add"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.request","value":{"stringValue":"infrastructure.rpc.link.v1.AddRequest"}},{"key":"rpc.response","value":{"stringValue":"infrastructure.rpc.link.v1.AddResponse"}},{"key":"server.address","value":{"stringValue":"127.0.0.6"}},{"key":"server.port","value":{"intValue":42687}},{"key":"rpc.grpc.status_code","value":{"intValue":0}},{"key":"rpc.service","value":{"stringValue":"infrastructure.rpc.link.v1.LinkService"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"a295fd41f662e13d","parentSpanId":"e2bcb96881c53933","traceState":"","name":"authzed.api.v1.PermissionsService/WriteRelationships","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011650882800,"endTimeUnixNano":1764701011728715000,"attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"WriteRelationships"}},{"key":"link.hash","value":{"stringValue":"50dec21fa68cf10"}},{"key":"user.id","value":{"stringValue":"77e8d776-2937-4143-8f56-9ae814b92a46"}},{"key":"permission.already_exists","value":{"boolValue":false}},{"key":"grpc.code","value":{"stringValue":"OK"}},{"key":"rpc.service","value":{"stringValue":"authzed.api.v1.PermissionsService"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":1,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"e2bcb96881c53933","parentSpanId":"5c14c336fc024b3c","traceState":"","name":"saga: SAGA_STEP_ADD_PERMISSION","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011650871000,"endTimeUnixNano":1764701011728744000,"attributes":[{"key":"step","value":{"stringValue":"SAGA_STEP_ADD_PERMISSION"}},{"key":"status","value":{"stringValue":"run"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"5c14c336fc024b3c","parentSpanId":"49e104e6062279dc","traceState":"","name":"saga: ADD_LINK","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011650796000,"endTimeUnixNano":1764701011728782800,"attributes":[{"key":"saga","value":{"stringValue":"ADD_LINK"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"e00f810c9fbd6426","parentSpanId":"49e104e6062279dc","traceState":"","name":"saga: ADD_LINK","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011634090800,"endTimeUnixNano":1764701011728791600,"attributes":[{"key":"saga","value":{"stringValue":"ADD_LINK"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"49e104e6062279dc","parentSpanId":"a438eb1f11ebe2fe","traceState":"","name":"ResolveUserIdentity","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011633951700,"endTimeUnixNano":1764701011728837600,"attributes":[{"key":"pyroscope.profile.id","value":{"stringValue":"49e104e6062279dc"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Add"}},{"key":"auth.user_id.metadata","value":{"stringValue":"77e8d776-2937-4143-8f56-9ae814b92a46"}},{"key":"auth.user_id.source","value":{"stringValue":"metadata"}},{"key":"auth.user_id","value":{"stringValue":"77e8d776-2937-4143-8f56-9ae814b92a46"}},{"key":"enduser.id","value":{"stringValue":"77e8d776-2937-4143-8f56-9ae814b92a46"}},{"key":"rpc.grpc.status_code","value":{"intValue":0}},{"key":"rpc.service","value":{"stringValue":"infrastructure.rpc.link.v1.LinkService"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":1,"message":""}}],"instrumentationLibrary":{"name":"go.opentelemetry.io/contrib/instrumentation/github.com/IBM/sarama/otelsarama","version":"0.43.0"}}]},{"resource":{"attributes":[{"key":"host.name","value":{"stringValue":"shortlink-link-bff-568f75c88c-pmvm8"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.22.2 (Linux shortlink-link-bff-568f75c88c-pmvm8 6.12.57-talos #1 SMP Wed Nov  5 12:59:35 UTC 2025 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"stringValue":"[\"./app\"]"}},{"key":"process.executable.name","value":{"stringValue":"app"}},{"key":"process.executable.path","value":{"stringValue":"/app/app"}},{"key":"process.owner","value":{"stringValue":"golang"}},{"key":"process.pid","value":{"intValue":7}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.25.4 X:arenas,cgocheck2,newinliner,rangefunc,jsonv2,greenteagc linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.25.4 X:arenas,cgocheck2,newinliner,rangefunc,jsonv2,greenteagc"}},{"key":"service.version","value":{"stringValue":""}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.38.0"}},{"key":"service.name","value":{"stringValue":"shortlink-bff-link"}}],"droppedAttributesCount":0},"instrumentationLibrarySpans":[{"spans":[{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"59094a2d0ff1239e","parentSpanId":"2fc4289de5e38a72","traceState":"","name":"shortlink-bff-link","kind":"SPAN_KIND_SERVER","startTimeUnixNano":1764701011619320000,"endTimeUnixNano":1764701011734580200,"attributes":[{"key":"server.address","value":{"stringValue":"shortlink.best"}},{"key":"http.request.method","value":{"stringValue":"POST"}},{"key":"url.scheme","value":{"stringValue":"http"}},{"key":"network.peer.address","value":{"stringValue":"172.71.232.24"}},{"key":"user_agent.original","value":{"stringValue":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36"}},{"key":"client.address","value":{"stringValue":"172.71.232.24"}},{"key":"url.path","value":{"stringValue":"/api/links"}},{"key":"network.protocol.version","value":{"stringValue":"1.1"}},{"key":"http.request.body.size","value":{"intValue":61}},{"key":"http.response.body.size","value":{"intValue":199}},{"key":"http.response.status_code","value":{"intValue":201}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":1,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"8661cd41b63cd230","parentSpanId":"59094a2d0ff1239e","traceState":"","name":"ResolveOutgoingUserID","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011619437000,"endTimeUnixNano":1764701011619455500,"attributes":[{"key":"auth.user_id.source","value":{"stringValue":"session"}},{"key":"auth.user_id","value":{"stringValue":"77e8d776-2937-4143-8f56-9ae814b92a46"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":1,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"f45110422263742a","parentSpanId":"8661cd41b63cd230","traceState":"","name":"infrastructure.rpc.link.v1.LinkService/Add","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011626903000,"endTimeUnixNano":1764701011734401300,"attributes":[{"key":"rpc.method","value":{"stringValue":"Add"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"server.address","value":{"stringValue":"10.98.245.83"}},{"key":"server.port","value":{"intValue":50051}},{"key":"rpc.grpc.status_code","value":{"intValue":0}},{"key":"rpc.service","value":{"stringValue":"infrastructure.rpc.link.v1.LinkService"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""},"events":[{"timeUnixNano":1764701011627950800,"attributes":[{"key":"rpc.message.type","value":{"stringValue":"SENT"}},{"key":"rpc.message.id","value":{"intValue":1}},{"key":"rpc.message.compressed_size","value":{"intValue":41}},{"key":"rpc.message.uncompressed_size","value":{"intValue":41}}],"droppedAttributesCount":0,"name":"message"},{"timeUnixNano":1764701011734387500,"attributes":[{"key":"rpc.message.type","value":{"stringValue":"RECEIVED"}},{"key":"rpc.message.id","value":{"intValue":1}},{"key":"rpc.message.compressed_size","value":{"intValue":86}},{"key":"rpc.message.uncompressed_size","value":{"intValue":86}}],"droppedAttributesCount":0,"name":"message"}]}],"instrumentationLibrary":{"name":"go.opentelemetry.io/contrib/instrumentation/net/http/otelhttp","version":"0.63.0"}}]},{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.38.0"}},{"key":"service.name","value":{"stringValue":"spicedb"}}],"droppedAttributesCount":0},"instrumentationLibrarySpans":[{"spans":[{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"aecfacad605e4764","parentSpanId":"44dce188572b47bc","traceState":"","name":"query BEGIN","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011721794300,"endTimeUnixNano":1764701011722243800,"attributes":[{"key":"db.system","value":{"stringValue":"postgresql"}},{"key":"db.query.text","value":{"stringValue":"begin isolation level serializable"}},{"key":"db.operation.name","value":{"stringValue":"BEGIN"}},{"key":"pgx.rows_affected","value":{"intValue":0}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"cdabda561b052016","parentSpanId":"d146aeb6e2d34c2e","traceState":"","name":"query INSERT","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011722328800,"endTimeUnixNano":1764701011723004200,"attributes":[{"key":"db.system","value":{"stringValue":"postgresql"}},{"key":"db.query.text","value":{"stringValue":"INSERT INTO relation_tuple_transaction (metadata) VALUES ($1) RETURNING xid, snapshot"}},{"key":"db.operation.name","value":{"stringValue":"INSERT"}},{"key":"pgx.rows_affected","value":{"intValue":1}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"5d84437773c291cc","parentSpanId":"8cc9ac3e99156577","traceState":"","name":"query SELECT","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011723215400,"endTimeUnixNano":1764701011724464000,"attributes":[{"key":"db.system","value":{"stringValue":"postgresql"}},{"key":"db.query.text","value":{"stringValue":"SELECT serialized_config, created_xid FROM namespace_config WHERE deleted_xid = $1 AND (namespace = $2 OR namespace = $3)"}},{"key":"db.operation.name","value":{"stringValue":"SELECT"}},{"key":"pgx.rows_affected","value":{"intValue":2}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"40710ab32788470a","parentSpanId":"e1cdc0bcb9fbec9a","traceState":"","name":"query SELECT","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011724573700,"endTimeUnixNano":1764701011724973600,"attributes":[{"key":"db.system","value":{"stringValue":"postgresql"}},{"key":"db.query.text","value":{"stringValue":"SELECT serialized_config, created_xid FROM namespace_config WHERE deleted_xid = $1 AND (namespace = $2)"}},{"key":"db.operation.name","value":{"stringValue":"SELECT"}},{"key":"pgx.rows_affected","value":{"intValue":1}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"e5c41981bde7e1fe","parentSpanId":"e1cdc0bcb9fbec9a","traceState":"","name":"query INSERT","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011725007600,"endTimeUnixNano":1764701011725377800,"attributes":[{"key":"db.system","value":{"stringValue":"postgresql"}},{"key":"db.query.text","value":{"stringValue":"INSERT INTO relation_tuple (namespace,object_id,relation,userset_namespace,userset_object_id,userset_relation,caveat_name,caveat_context,expiration) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9) ON CONFLICT DO NOTHING RETURNING namespace, object_id, relation, userset_namespace, userset_object_id, userset_relation"}},{"key":"db.operation.name","value":{"stringValue":"INSERT"}},{"key":"pgx.rows_affected","value":{"intValue":0}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"9618bf4796a0c774","parentSpanId":"44dce188572b47bc","traceState":"","name":"query COMMIT","kind":"SPAN_KIND_CLIENT","startTimeUnixNano":1764701011725391400,"endTimeUnixNano":1764701011725947000,"attributes":[{"key":"db.system","value":{"stringValue":"postgresql"}},{"key":"db.query.text","value":{"stringValue":"commit"}},{"key":"db.operation.name","value":{"stringValue":"COMMIT"}},{"key":"pgx.rows_affected","value":{"intValue":0}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"d146aeb6e2d34c2e","parentSpanId":"44dce188572b47bc","traceState":"","name":"createNewTransaction","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011722268400,"endTimeUnixNano":1764701011723011800,"attributes":[],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"8cc9ac3e99156577","parentSpanId":"44dce188572b47bc","traceState":"","name":"LookupNamespacesWithNames","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011723145000,"endTimeUnixNano":1764701011724471300,"attributes":[{"key":"spicedb.internal.datastore.shared.names","value":{"stringValue":"[\"link\",\"user\"]"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"e1cdc0bcb9fbec9a","parentSpanId":"44dce188572b47bc","traceState":"","name":"WriteRelationships","kind":"SPAN_KIND_INTERNAL","startTimeUnixNano":1764701011724527600,"endTimeUnixNano":1764701011725383200,"attributes":[{"key":"spicedb.internal.datastore.shared.mutations","value":{"intValue":1}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}},{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"44dce188572b47bc","parentSpanId":"ffbcff6cb5ac837c","traceState":"","name":"authzed.api.v1.PermissionsService/WriteRelationships","kind":"SPAN_KIND_SERVER","startTimeUnixNano":1764701011721542400,"endTimeUnixNano":1764701011726098000,"attributes":[{"key":"rpc.method","value":{"stringValue":"WriteRelationships"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"server.address","value":{"stringValue":"10.244.0.112"}},{"key":"server.port","value":{"intValue":50684}},{"key":"rpc.grpc.status_code","value":{"intValue":0}},{"key":"rpc.service","value":{"stringValue":"authzed.api.v1.PermissionsService"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""},"events":[{"timeUnixNano":1764701011721764600,"attributes":[],"droppedAttributesCount":0,"name":"spicedb.internal.service.relationships.mutations_validated"},{"timeUnixNano":1764701011723069400,"attributes":[],"droppedAttributesCount":0,"name":"spicedb.internal.service.relationships.preconditions.validated"},{"timeUnixNano":1764701011724498200,"attributes":[],"droppedAttributesCount":0,"name":"spicedb.internal.service.relationships.updates.validated"},{"timeUnixNano":1764701011724516900,"attributes":[],"droppedAttributesCount":0,"name":"spicedb.internal.service.relationships.preconditions.validated"},{"timeUnixNano":1764701011725384400,"attributes":[],"droppedAttributesCount":0,"name":"spicedb.internal.service.relationships.written"},{"timeUnixNano":1764701011725958100,"attributes":[],"droppedAttributesCount":0,"name":"spicedb.internal.service.relationships.readwrite_executed"}]}],"instrumentationLibrary":{"name":"github.com/exaring/otelpgx","version":"v0.9.3"}}]},{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"cpp"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.18.0"}},{"key":"service.name","value":{"stringValue":"nginx-ingress"}}],"droppedAttributesCount":0},"instrumentationLibrarySpans":[{"spans":[{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"2fc4289de5e38a72","parentSpanId":"","traceState":"","name":"HTTP POST shortlink-link-bff /api/links","kind":"SPAN_KIND_SERVER","startTimeUnixNano":1764701011545720800,"endTimeUnixNano":1764701011737169400,"attributes":[{"key":"http.flavor","value":{"stringValue":"2.0"}},{"key":"http.target","value":{"stringValue":"/api/links"}},{"key":"http.server_name","value":{"stringValue":"shortlink.best"}},{"key":"http.host","value":{"stringValue":"shortlink.best"}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36"}},{"key":"http.scheme","value":{"stringValue":"https"}},{"key":"net.host.port","value":{"intValue":443}},{"key":"net.peer.ip","value":{"stringValue":"172.71.232.24"}},{"key":"net.peer.port","value":{"intValue":11190}},{"key":"ingress.namespace","value":{"stringValue":"shortlink-link"}},{"key":"ingress.service_name","value":{"stringValue":"shortlink-link-bff"}},{"key":"ingress.name","value":{"stringValue":"shortlink-link-bff"}},{"key":"ingress.upstream","value":{"stringValue":"shortlink-link-shortlink-link-bff-7070"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.status_code","value":{"intValue":201}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":1,"message":""}}],"instrumentationLibrary":{"name":"nginx","version":""}}]},{"resource":{"attributes":[{"key":"host.name","value":{"stringValue":"shortlink-link-metadata-66d4ccb6bc-h25mt"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.22.2 (Linux shortlink-link-metadata-66d4ccb6bc-h25mt 6.12.57-talos #1 SMP Wed Nov  5 12:59:35 UTC 2025 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"stringValue":"[\"./app\"]"}},{"key":"process.executable.name","value":{"stringValue":"app"}},{"key":"process.executable.path","value":{"stringValue":"/app/app"}},{"key":"process.owner","value":{"stringValue":"golang"}},{"key":"process.pid","value":{"intValue":7}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.25.4 X:arenas,cgocheck2,newinliner,rangefunc,jsonv2,greenteagc linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.25.4 X:arenas,cgocheck2,newinliner,rangefunc,jsonv2,greenteagc"}},{"key":"service.version","value":{"stringValue":""}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.38.0"}},{"key":"service.name","value":{"stringValue":"shortlink-metadata"}}],"droppedAttributesCount":0},"instrumentationLibrarySpans":[{"spans":[{"traceId":"e7e3d06a7453d06ef84c78aec21d16e7","spanId":"42192fd861197298","parentSpanId":"0e42b1f539e3e7e6","traceState":"","name":"link.link.created.v1 receive","kind":"SPAN_KIND_CONSUMER","startTimeUnixNano":1764701011639738000,"endTimeUnixNano":1764701011639797800,"attributes":[{"key":"messaging.system","value":{"stringValue":"kafka"}},{"key":"messaging.destination.kind","value":{"stringValue":"topic"}},{"key":"messaging.destination.name","value":{"stringValue":"link.link.created.v1"}},{"key":"messaging.operation","value":{"stringValue":"receive"}},{"key":"messaging.message.id","value":{"stringValue":"11"}},{"key":"messaging.kafka.source.partition","value":{"intValue":0}},{"key":"pyroscope.profile.id","value":{"stringValue":"42192fd861197298"}}],"droppedAttributesCount":0,"droppedEventsCount":0,"droppedLinksCount":0,"status":{"code":0,"message":""}}],"instrumentationLibrary":{"name":"go.opentelemetry.io/contrib/instrumentation/github.com/IBM/sarama/otelsarama","version":"0.43.0"}}]}]}